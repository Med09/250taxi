<!doctype html>
<html>

<head>
    <meta charset="utf-8">

    <link href="animate.min.css" rel="stylesheet" type="text/css">
    
    <link rel="apple-touch-icon" sizes="57x57" href="apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="manifest.json">
<meta name="msapplication-TileColor" content="#df600a">
<meta name="msapplication-TileImage" content="mstile-144x144.png">
<meta name="theme-color" content="#000000">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <script src="jquery.min.js"></script>
    <script src="cordova.js"></script>
    <script src="preventreload.js"></script>
    <script src="http://250taxi.com/appcontent/welcome.js"></script>

    <script type="text/javascript">
        document.addEventListener("deviceready", onDeviceReady, false);

        function onDeviceReady() {
            // Now safe to use device APIs
            // set to either landscape
            screen.lockOrientation('portrait');
            dogpscheck();
            dodevicenamecheck();
        }

        function showindicator() {
            document.getElementById("loadingindicator").className = "animated fadeIn";
            document.getElementById("loadingindicator").style.display = "block";
        }

        function letsgo() {
            showindicator();
            setTimeout(function() {
                document.location.href = 'locate.html';
            }, 3000);
        }
        
        document.addEventListener('deviceready', function () {    
    
  // Enable to debug issues.
  // window.plugins.OneSignal.setLogLevel({logLevel: 4, visualLevel: 4});
  
  var notificationOpenedCallback = function(jsonData) {
    console.log('didReceiveRemoteNotificationCallBack: ' + JSON.stringify(jsonData));
  };

  window.plugins.OneSignal.init("03b0ecf1-200e-470c-8c27-9010306734a3",
                                 {googleProjectNumber: "1006498509511"},
                                 notificationOpenedCallback);
  
  // Show an alert box if a notification comes in when the user is in your app.
  window.plugins.OneSignal.enableInAppAlertNotification(true);
}, false);

        $(document).ready(function() {

            $.get("http://250taxi.com/db/partner/check_app_update.php?check=client", function(data) {
                var currentversion = "1";
                var serverversion = data;
                if (currentversion < serverversion) {
                    alert("Your app is outdated. Please install the update.");
                    window.open('http://250taxi.com/getupdate/client.php', '_system');
                }
            });


            var rememberuser = localStorage.getItem('rememberuser');

            // alert(rememberuser);

            if (rememberuser == 'Yes') {
                document.location.href = 'gotostart.html';
            } else {
                //    alert('Please log in');
            }

            var currentTime = new Date().getHours();
            if (0 <= currentTime && currentTime < 5) {
                setnight();
            }
            if (5 <= currentTime && currentTime < 11) {

            }
            if (11 <= currentTime && currentTime < 16) {

            }
            if (16 <= currentTime && currentTime < 22) {

            }
            if (22 <= currentTime && currentTime <= 24) {
                setnight();
            }

        });

        function setnight() {
            document.getElementById('splashimg').src = 'splash_night.jpg';
            document.getElementById('splashpage').style.backgroundColor = '#130F20';
            document.getElementById('claim').style.color = '#73CEE9';
        }

function dogpscheck() {
            CheckGPS.check(function win() {

                },
                function fail() {
                    opensettings();
                });
        }
        function opensettings() {
                alert("Your GPS is not enabled. Please turn it on in your device settings. 250 Taxi needs GPS to find your pickup location.")
}
function dodevicenamecheck() {
    var device_model = device.model;
    var device_platform = device.platform;
    var device_version = device.version;
    var device_uuid = device.uuid;
    // alert(device_model + device_platform + device_version + device_uuid);
    localStorage.setItem("device_model",device_model);
    localStorage.setItem("device_platform",device_platform);
    localStorage.setItem("device_version",device_version);
    localStorage.setItem("device_uuid",device_uuid);
}
        
    </script>

    <style>
        ::-webkit-scrollbar { 
        display: none; 
        }
        body {
            font-family: Roboto, sans-serif;
            font-size: 18px;
            color: #000;
            text-align: center;
            margin: 0px;
            padding: 0px;
        }
        
        #loginregister {
            position: absolute;
            z-index: 10;
            width: 80%;
            margin-left: 10%;
            bottom: 20%;
        }
        
        #loginregister img {
            width: 48%;
        }
        
        #claim {
            color: #3198B7;
            font-size: 25px;
            font-style: italic;
            font-weight: 400;
            position: absolute;
            text-align: center;
            z-index: 100;
            width: 100%;
            bottom: 44%;
        }
        
        #copyright {
            color: #FFFFFF;
            font-size: 16px;
            position: absolute;
            text-align: center;
            z-index: 100;
            width: 100%;
            bottom: 5%;
            text-transform: uppercase;
            text-shadow: 0 0 5px #000000;
        }
        #splashpage {
            overflow:hidden;
        }
    </style>

</head>

<body id="splashpage">
    
<div id="loadingindicator" style="display:none">
    <img src="282.gif" width="120">
</div>

    <div id="claim" class="animated slideInLeft" style="-webkit-animation-delay: 2s;">We take you there</div>

    <div id="loginregister">
        <img class="animated zoomIn" style="-webkit-animation-delay: 1.5s;" onclick="document.location.href = 'reg/login.html'" src="reg/login.png">
        <img class="animated zoomIn" style="-webkit-animation-delay: 1.7s;" onclick="document.location.href = 'reg/mainmenu.html'" src="reg/register.png">
    </div>

    <div id="copyright" class="animated fadeIn" style="-webkit-animation-delay: 2s; display:none;">
        <img style="width: 50%;" src="tigo.png">
    </div>

    <img id="splashimg" class="animated fadeIn" style="-webkit-animation-delay: 1s;" src="splash_day.jpg" width="100%">

</body>

</html>
